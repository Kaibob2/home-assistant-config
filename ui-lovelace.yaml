resources:
  - url: /community_plugin/vertical-stack-in-card/vertical-stack-in-card.js
    type: js
  - url: /community_plugin/mini-media-player/mini-media-player.js
    type: module
  - url: /community_plugin/lovelace-layout-card/layout-card.js
    type: module
  - url: /community_plugin/lovelace-card-tools/card-tools.js
    type: module
  - url: /community_plugin/monster-card/monster-card.js
    type: js
  - url: /community_plugin/secondaryinfo-entity-row/secondaryinfo-entity-row.js
    type: js
  - url: /community_plugin/mini-graph-card/mini-graph-card.js
    type: module
  - url: /community_plugin/lovelace-card-mod/card-mod.js
    type: module
  - url: /local/lovelace/battery-entity.js?v=0.1
    type: module
  - url: /community_plugin/bom-weather-card/bom-weather-card.js
    type: module
  - url: /community_plugin/decluttering-card/decluttering-card.js
    type: module
  - url: /community_plugin/button-card/button-card.js
    type: module

decluttering_templates:
  header:
    default:
      # Name/Title
      - content: content
    # Card Config
    # Do NOT change this unless you know what you are doing!
    card:
      type: markdown
      style: |
        ha-card {
          box-shadow: none;
          height: 33px;
          background: none;
          padding: 0px 10px;
          color: var(--header-color);
        }
      content: '[[content]]'

  button:
    default:
      # Button Options
      - lock: false
      - aspect_ratio: 1/1
      - opacity: 0.5
      - opacity_on: 1.0
      # Name
      - name:
      # Label
      - label: '&nbsp;'
      # Icon Options
      - color: auto
      - size: 25%
      - margin-right: 60px
      - margin-left: 0px
      - variable: spin
      - spin: false
      - off_variable: spin
      - off_spin: false
      - icon: # Leave this empty if you want to be able to use icons defined in customize.yaml (default is empty!)
      # Show Options
      - show_name: true
      - show_state: false
      - show_label: true
      - show_icon: true
      - show_last_changed: false
      # Tap and Hold Actions
      - tap_action:
          action: toggle
          haptic: light
      - hold_action:
          action: more-info
          haptic: heavy
      # Button 'Off' Options
      - off_icon_color: var(--icon-color-off)
      - off_name_color: var(--name-color-off)
      - off_state_color: var(--state-color-off)
      - off_label_color: var(--label-color-off)

      # Button 'On' Options
      - on_name_color: var(--name-color-on)
      - on_state_color: var(--state-color-on)
      - on_label_color: var(--label-color-on)
      - on_card_color: var(--card-color-on)

      # Name and Label Options
      - margin-top-name: 0px
      - label_font_size: 11px
      - label_font_weight: normal
      - justify-self-name: start
      - padding-left-name: 10px

      # Grid
      - grid:
          - grid-template-areas: '"i" "n" "l" "s"'
          - grid-template-columns: 1fr
          - grid-template-rows: 1fr min-content min-content

      # Custom Fields # Changed/Added in 0.13.3
      - notification: "[[[ return '&nbsp'; ]]]"
      - custom_fields:
          notification:
            - background-color: "[[[ return 'var(--card-color-off)'; ]]]"
            - color: var(--notification-badge-color)
            - border-radius: 50%
            - overflow: visible
            - position: absolute
            - right: 7%
            - top: 7%
            - height: 22px
            - width: 22px
            - font-size: 11px
            - line-height: 20px

      # Lock # Changed/Added in 0.13.3
      - lock: false

    #### #### #### #### #### #### #### #### #### #### #### #

    # Card Config
    # Do NOT change this unless you know what you are doing!
    card:
      type: custom:button-card
      name: '[[name]]'
      deep_press: true
      icon: '[[icon]]'
      size: '[[size]]'
      color: '[[color]]'
    # Lock config below # Changed/Added in 0.13.3
      lock:
        enabled: '[[lock]]'
        unlock: hold
        duration: 5
      aspect_ratio: '[[aspect_ratio]]'
      entity: '[[entity]]'
      label: '[[label]]'
      show_name: '[[show_name]]'
      show_icon: '[[show_icon]]'
      show_state: '[[show_state]]'
      show_label: '[[show_label]]'
      show_last_changed: '[[show_last_changed]]'
      tap_action: '[[tap_action]]'
      hold_action: '[[hold_action]]'
      styles:
        card:
          - border-radius: '[[border-radius]]'
          - --ha-card-background: '[[ha-card-background]]'
          - box-shadow: '[[box-shadow]]'
        label:
          - font-size: 11px
          - font-family: Helvetica
          - padding: 0px 10px
          - justify-self: start
          - color: var(--label-color-off)
        state:
          - font-size: 11px
          - font-family: Helvetica
          - padding: 0px 10px
          - justify-self: start
          - font-weight: bold
          - padding-left: 10px
          - color: var(--state-color-off)
        grid: '[[grid]]'
        custom_fields: '[[custom_fields]]'
        img_cell:
          - align-self: start
          - text-align: start
          - margin-right: '[[margin-right]]'
          - margin-left: '[[margin-left]]'
        name:
          - justify-self: '[[justify-self-name]]'
          - padding-left: '[[padding-left-name]]'
          - font-weight: bold
          - font-family: Helvetica
          - font-size: 13px
          - margin-top: '[[margin-top-name]]'
      custom_fields:
        notification: '[[notification]]'
      state:
        - value: "on"
          '[[variable]]': '[[spin]]'
          styles:
            card:
              - --ha-card-background: '[[on_card_color]]'
              - opacity: '[[opacity_on]]'
            name:
              - color: '[[on_name_color]]'
            state:
              - color: '[[on_state_color]]'
            lock:
              - color: var(--lock-color-on)
            label:
              - color: '[[on_label_color]]'
        - value: "off"
          '[[off_variable]]': '[[off_spin]]'
          styles:
            card:
              - --ha-card-background: 'white'
              - opacity: '[[opacity]]'
            icon:
              - color: '[[off_icon_color]]'
            name:
              - color: '[[off_name_color]]'
            state:
              - color: '[[off_state_color]]'
            label:
              - color: '[[off_label_color]]'
              - font-size: '[[label_font_size]]'
              - font-weight: '[[label_font_weight]]'
            lock:
              - color: var(--lock-color-off)
        - value: "idle"
          styles:
            card:
              - opacity: 0.8
            name:
              - color: var(--name-color-off)
            label:
              - color: var(--label-color-off)
            icon:
              - color: var(--icon-color-off)
            lock:
              - color: var(--lock-color-off)
        - value: "unavailable"
          styles:
            card:
              - opacity: 0.2
            name:
              - color: var(--name-color-off)
            label:
              - color: var(--label-color-off)
            state:
              - color: var(--state-color-off)
            icon:
              - color: var(--icon-color-off)
            lock:
              - color: var(--lock-color-off)
        - value: "disarmed"
          styles:
            card:
              - opacity: 0.8
              - --ha-card-background: var(--card-color-off)
            name:
              - color: var(--name-color-off)
            state:
              - color: var(--state-color-off)
              - justify-self: '[[justify-self-name]]'
              - padding-left: '[[padding-left-name]]'
              - font-weight: bold
              - font-family: Helvetica
              - font-size: 13px
            icon:
              - color: green
        - value: "armed_home"
          icon: "mdi:alert"
          styles:
            card:
              - --ha-card-background: var(--card-color-on)
            name:
              - color: var(--name-color-on)
            state:
              - color: var(--label-color-on)
              - justify-self: '[[justify-self-name]]'
              - padding-left: '[[padding-left-name]]'
            icon:
              - color: red
              - animation: blink 2s ease infinite
        - value: "armed_away"
          icon: "mdi:alert"
          styles:
            card:
              - --ha-card-background: var(--card-color-on)
            name:
              - color: var(--name-color-on)
            state:
              - color: var(--label-color-on)
              - justify-self: '[[justify-self-name]]'
              - padding-left: '[[padding-left-name]]'
            icon:
              - color: red
              - animation: blink 2s ease infinite
        - value: "pending"
          icon: "mdi:clock-alert-outline"
          styles:
            card:
              - --ha-card-background: var(--card-color-on)
            name:
              - color: var(--name-color-on)
            state:
              - color: var(--label-color-on)
              - justify-self: '[[justify-self-name]]'
              - padding-left: '[[padding-left-name]]'
            icon:
              - color: orange
              - animation: blink 1s ease infinite
        - operator: 'default'
          styles:
            card:
              - opacity: '[[opacity]]'
            icon:
              - color: '[[off_icon_color]]'
            name:
              - color: '[[off_name_color]]'
            state:
              - color: '[[off_state_color]]'
            label:
              - color: '[[off_label_color]]'
              - font-size: '[[label_font_size]]'
              - font-weight: '[[label_font_weight]]'
            lock:
              - color: --var(--lock-color-off)
  mini-graph:
    default:
      # Name (Name of the card)
      - name:
      # Time Management (set hour24 to true if you want 24 hour
      # notation)
      - hours_to_show: 48
      - hour24: true
      - points_per_hour: 1
      # Size (You will have to play with these to get it right
      # for your own particular setup)
      - font_size: 55
      - height: 70
      # Graph Type (Choice: bar/line)
      - graph: line
      - line_color: red
      - line_width: 5
      - decimals: 1
      - fill: fade
      # Show Min/Max (Warning Resource Heavy)
      - extrema: false
      - average: false
      # Animations
      - animate: true
      # Icon Show/Hide
      - icon: false
    # Do NOT change this unless you know what you are doing!
    card:
      type: 'custom:mini-graph-card'
      style: |
        ha-card {
          --paper-item-icon-color: var(--icon-color-off);
          font-weight: bold;
        }
      entities: '[[entities]]'
      hours_to_show: '[[hours_to_show]]'
      points_per_hour: '[[points_per_hour]]'
      line_width: '[[line_width]]'
      hour24: '[[hour24]]'
      animate: '[[animate]]'
      decimals: '[[decimals]]'
      font_size: '[[font_size]]'
      height: '[[height]]'
      show:
        graph: '[[graph]]'
        icon: '[[icon]]'
        fill: '[[fill]]'
        extrema: '[[extrema]]'
        average: '[[average]]'
        points: false
        labels: false
      font_size_header: 9
      line_color: '[[line_color]]'
      name: '[[name]]'

background: "#e5e5e5"

title: "Dom"
views:
  - id: home
    icon: mdi:home
    title: "Pomieszczenia"
    path: home
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: header
            variables:
              - content: "Salon"
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px
          - type: custom:decluttering-card
            template: mini-graph
            variables:
              - line_color: "#ef5350"
              - entities:
                - sensor.temperature_salon
          - type: custom:decluttering-card
            template: mini-graph
            variables:
              - line_color: "#36a2eb"
              - entities:
                - sensor.humidity_salon
          - type: custom:decluttering-card
            template: mini-graph
            variables:
              - line_color: "#8bc34a"
              - decimals: 0
              - entities:
                - sensor.co2_salon
          - type: custom:decluttering-card
            template: mini-graph
            variables:
              - name: "Oświetlenie"
              - line_color: "#ffce57"
              - decimals: 0
              - entities:
                - sensor.illumination_salon
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: binary_sensor.motion_salon
              - label: "[[[ if (entity.state == 'on') return 'wykryto'; else if (entity.state == 'off') return 'brak'; else return 'niedostępny']]]"
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: binary_sensor.motion_salon
              - label: "[[[ if (entity.state == 'on') return 'wykryto'; else if (entity.state == 'off') return 'brak'; else return 'niedostępny']]]"
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: binary_sensor.motion_salon
              - label: "[[[ if (entity.state == 'on') return 'wykryto'; else if (entity.state == 'off') return 'brak'; else return 'niedostępny']]]"
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: binary_sensor.motion_salon
              - label: "[[[ if (entity.state == 'on') return 'wykryto'; else if (entity.state == 'off') return 'brak'; else return 'niedostępny']]]"
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: light.lamp_salon
              - label: "[[[ if (entity.state == 'on') return 'włączona'; else if (entity.state == 'off') return 'wyłączona'; else return 'niedostępna']]]"
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: light.bulbs_salon
              - label: "[[[ if (entity.state == 'on') return 'włączone'; else if (entity.state == 'off') return 'wyłączone'; else return 'niedostępne']]]"
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: light.leds_salon
              - label: "[[[ if (entity.state == 'on') return 'włączone'; else if (entity.state == 'off') return 'wyłączone'; else return 'niedostępne']]]"
          - type: custom:decluttering-card
            template: button
            variables:
              - entity: fan.humidifier_salon
              - label: "[[[ if (entity.state == 'on') return 'włączony'; else if (entity.state == 'off') return 'wyłączony'; else return 'niedostępny']]]"
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px
      - type: horizontal-stack
        cards:
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px
          - type: picture-glance
            title: "Salon"
            entities:
              - switch.camera_move_left
              - switch.camera_move_right
              - switch.camera_move_up
              - switch.camera_move_down
            camera_image: camera.salon
          - type: 'custom:button-card'
            color_type: blank-card
            styles:
              card:
                - width: 5px

      # - type: horizontal-stack
      #   cards:
      #     - type: custom:button-card
      #       entity: light.lamp_salon
      #       show_state: false
      #       show_label: true
      #       hold_action:
      #         action: more-info
      #       label: >
      #         [[[
      #           if (entity.state == 'on')
      #             return 'włączona';
      #           else if (entity.state == 'off')
      #             return 'wyłączona';
      #           else
      #             return 'niedostępna';
      #         ]]]
      #       styles:
      #         card:
      #           - width: 100px
      #           - height: 100px
      #         label:
      #           - font-size: 11px
      #           - font-family: Helvetica
      #           - padding: 0px 10px
      #           - justify-self: start
      #           - color: var(--label-color-off)
      #         grid:
      #           - grid-template-areas: '"i" "n" "l"'
      #           - grid-template-columns: 1fr
      #           - grid-template-rows: 1fr min-content min-content
      #         img_cell:
      #           - align-self: start
      #           - text-align: start
      #         name:
      #           - justify-self: start
      #           - padding-left: 10px
      #           - font-weight: bold
      #           - font-size: 13px
      #         state:
      #           - font-size: 11px
      #           - font-family: Helvetica
      #           - padding: 0px 10px
      #           - justify-self: start
      #           - font-weight: bold
      #           - padding-left: 10px
      #       state:
      #         - value: 'unavailable'
      #           styles:
      #             card:
      #               - filter: opacity(20%)
      #             icon:
      #               - filter: grayscale(100%)
      #     - type: custom:button-card
      #       entity: light.bulbs_salon
      #       show_state: false
      #       show_label: true
      #       hold_action:
      #         action: more-info
      #       label: >
      #         [[[
      #           if (entity.state == 'on')
      #             return 'włączone';
      #           else if (entity.state == 'off')
      #             return 'wyłączone';
      #           else
      #             return 'niedostępne';
      #         ]]]
      #       styles:
      #         card:
      #           - width: 100px
      #           - height: 100px
      #         label:
      #           - font-size: 11px
      #           - font-family: Helvetica
      #           - padding: 0px 10px
      #           - justify-self: start
      #           - color: var(--label-color-off)
      #         grid:
      #           - grid-template-areas: '"i" "n" "l"'
      #           - grid-template-columns: 1fr
      #           - grid-template-rows: 1fr min-content min-content
      #         img_cell:
      #           - align-self: start
      #           - text-align: start
      #         name:
      #           - justify-self: start
      #           - padding-left: 10px
      #           - font-weight: bold
      #           - font-size: 13px
      #         state:
      #           - font-size: 11px
      #           - font-family: Helvetica
      #           - padding: 0px 10px
      #           - justify-self: start
      #           - font-weight: bold
      #           - padding-left: 10px
      #       state:
      #         - value: 'unavailable'
      #           styles:
      #             card:
      #               - filter: opacity(20%)
      #             icon:
      #               - filter: grayscale(100%)
      #     - type: custom:button-card
      #       entity: light.leds_salon
      #       show_state: false
      #       show_label: true
      #       hold_action:
      #         action: more-info
      #       label: >
      #         [[[
      #           if (entity.state == 'on')
      #             return 'włączone';
      #           else if (entity.state == 'off')
      #             return 'wyłączone';
      #           else
      #             return 'niedostępne';
      #         ]]]
      #       styles:
      #         card:
      #           - width: 100px
      #           - height: 100px
      #         label:
      #           - font-size: 11px
      #           - font-family: Helvetica
      #           - padding: 0px 10px
      #           - justify-self: start
      #           - color: var(--label-color-off)
      #         grid:
      #           - grid-template-areas: '"i" "n" "l"'
      #           - grid-template-columns: 1fr
      #           - grid-template-rows: 1fr min-content min-content
      #         img_cell:
      #           - align-self: start
      #           - text-align: start
      #         name:
      #           - justify-self: start
      #           - padding-left: 10px
      #           - font-weight: bold
      #           - font-size: 13px
      #         state:
      #           - font-size: 11px
      #           - font-family: Helvetica
      #           - padding: 0px 10px
      #           - justify-self: start
      #           - font-weight: bold
      #           - padding-left: 10px
      #       state:
      #         - value: 'unavailable'
      #           styles:
      #             card:
      #               - filter: opacity(20%)
      #             icon:
      #               - filter: grayscale(100%)
      #     - type: 'custom:mini-graph-card'
      #       entities:
      #         - sensor.temperature_salon
      #       hours_to_show: 24
      #       hour24: true
      #       animate: true
      #       decimals: 1
      #       font_size: 10
      #       font_size_header: 9
      #       height: 80
      #       show:
      #         icon: false


